org 100h
S equ 1193180 ; –¢–∞–∫—Ç–æ–≤–∞—è —á–∞—Å—Ç–æ—Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

beep_proc:
  mov al, 10110110b ; –£–ø—Ä–∞–≤–ª—è—é—â–µ–µ —Å–ª–æ–≤–æ
  out 43h, al ; –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —É–ø—Ä–∞–≤–ª—è—é—â–µ–µ —Å–ª–æ–≤–æ –≤ –ø–æ—Ä—Ç 43h

  mov bx, mas1 ; –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞—Å—Å–∏–≤ —Å –Ω–æ—Ç–∞–º–∏
  mov di, mas2 ; –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞—Å—Å–∏–≤ —Å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º–∏ –Ω–æ—Ç    

; –í–∫–ª—é—á–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏–∫–∞
beep_start:
  in al, 61h
  or al, 00000011b
  out 61h, al

  mov cx, 124 ; –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ—Ç

start:
  push cx ; –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞
  mov ax, [bx]
  shr ax, 1 ; –õ–æ–≥–∏—á–µ—Å–∫–∏–π —Å–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ –Ω–∞ 1 –±–∏—Ç –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã –Ω–æ—Ç
  out 42h, al ; –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –º–ª–∞–¥—à–∏–π –±–∞–π—Ç –¥–µ–ª–∏—Ç–µ–ª—è —á–∞—Å—Ç–æ—Ç—ã
  mov al, ah
  out 42h, al ; –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç–∞—Ä—à–∏–π –±–∞–π—Ç –¥–µ–ª–∏—Ç–µ–ª—è —á–∞—Å—Ç–æ—Ç—ã
  mov cx, [di+2] ; –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–∞–∑–º–µ—Ä –∑–∞–¥–µ—Ä–∂–∫–∏
  mov dx, [di]
  shl cx, 1 ; –õ–æ–≥–∏—á–µ—Å–∫–∏–π —Å–¥–≤–∏–≥ –≤–ª–µ–≤–æ –Ω–∞ 1 –±–∏—Ç –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã –Ω–æ—Ç—ã
  mov ah, 86h ; –§—É–Ω–∫—Ü–∏—è 86 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä—ã cx –∏ dx –Ω–∞ –≤—Ö–æ–¥–µ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏
  int 15h ; –û—Å—É—â–µ—Å—Ç–≤–ª—è–µ–º –∑–∞–¥–µ—Ä–∂–∫—É
  add bx, 2 ; –°–º–µ—â–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–æ—Ç—ã
  add di, 4 ; –°–º–µ—â–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–æ—Ç
  pop cx ; –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞
  loop start

; –í—ã–∫–ª—é—á–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏–∫–∞ –ø–æ—Å–ª–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏
beep_end:
  in al, 61h
  and al, 11111100b
  out 61h, al

  int 20h ; –ó–∞–≤–µ—Ä—à–∞–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É

; Ã‡ÒÒË‚ Ò ˜‡ÒÚÓÚ‡ÏË ÌÓÚ ‰Îˇ ÏÂÎÓ‰ËË " ‡Ú˛¯‡"
mas1:
   dw S/493, 1, S/493, 1, S/523, 1, S/587, 1, S/587, 1, S/523, 1, S/493, 1, S/440, 1, S/392, 1, S/392, 1, S/440, 1, S/493, 1, S/493, 1, S/440, 1, S/392, 1, S/392, 1, S/440, 1, S/440, 1, S/440, 1
   dw S/493, 1, S/493, 1, S/523, 1, S/587, 1, S/587, 1, S/523, 1, S/493, 1, S/440, 1, S/392, 1, S/392, 1, S/440, 1, S/493, 1, S/440, 1, S/392, 1, S/392, 1
   dw S/440, 1, S/440, 1, S/493, 1, S/392, 1, S/440, 1, S/493, 1, S/523, 1, S/493, 1, S/392, 1, S/440, 1, S/493, 1, S/523, 1, S/493, 1, S/440, 1, S/392, 1, S/440, 1, S/440, 1, S/293, 1
   dw S/493, 1, S/493, 1, S/523, 1, S/587, 1, S/587, 1, S/523, 1, S/493, 1, S/440, 1, S/392, 1, S/392, 1, S/440, 1, S/493, 1, S/440, 1, S/392, 1, S/392, 1

mas2:
   dd 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h + 1E848h - 1E848h/7, 1E848h/7, 1E848h - 1E848h/7, 1E848h/7, 7A120h - 1E848h/7, 1E848h/7
   dd 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h + 1E848h - 1E848h/7, 1E848h/7, 1E848h - 1E848h/7, 1E848h/7, 7A120h,            1E848h/7
   dd 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 1E848h - 1E848h/7, 1E848h/7, 1E848h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7,          1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 7A120h - 1E848h/7, 1E848h/7
   dd 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h - 1E848h/7, 1E848h/7, 3D090h + 1E848h - 1E848h/7, 1E848h/7, 1E848h - 1E848h/7, 1E848h/7, 0F4240h -1E848h/7, 64h

